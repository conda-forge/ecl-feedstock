--- a/ecl-16.1.2/src/c/file.d
+++ b/ecl-16.1.2/src/c/file.d
@@ -3354,7 +3354,7 @@
         ecl_disable_interrupts();
         do {
                 out = fwrite(c, sizeof(char), n, IO_STREAM_FILE(strm));
-        } while (out < n && restartable_io_error(strm, "fwrite"));
+  } while (out < n && (IO_STREAM_FILE(strm) != stderr) && restartable_io_error(strm, "fwrite"));
         ecl_enable_interrupts();
         return out;
 }
